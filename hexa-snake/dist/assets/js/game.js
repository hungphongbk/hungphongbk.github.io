var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(t,e,n,r){var i,o,s,a,u,h,c;return i=function(t){function e(t,n,r){e.__super__.constructor.call(this,t,n,r)}return extend(e,t),e}(n.Sprite),o=function(){function t(t,e){this.x=t,this.y=e,this.map=s.instance}return t.prototype.renderPosW=function(){return this.map.renderUnitW*this.x},t.prototype.renderPosH=function(){return this.map.renderUnitH*this.y},t}(),s=function(){function t(){}var e,n;return n=null,e=function(){function t(t,e,n){this.unitH=.75,this.unitW=Math.sqrt(3)/2,this.renderUnitW=n*this.unitW,this.renderUnitH=n*this.unitH,this.width=Math.floor(t/this.renderUnitW),this.height=Math.floor(e/this.renderUnitH),this.hexagonArray=[]}return t.prototype.initHexagonArray=function(){var t,e,n;for(this.hexagonArray=[],n=this.unitW/2,e=0,t=!0;;)if(this.hexagonArray.push(new o(n,e)),n+=this.unitW,n>this.width&&(e+=this.unitH,t=!t,n=t?this.unitW/2:0),!(e<this.height))break},t}(),t.config=function(t,r,i){return null==i&&(i=20),n=new e(t,r,i),n.initHexagonArray(),console.log("HexaGon Map initialized with size "+t+" x "+r+" and unitSize = "+i),console.log(n.hexagonArray[10])},Object.defineProperty(t,"instance",{get:function(){return n}}),t}(),a=function(){function t(){this.length=0,this.direction=2,this.map=s.instance}return t.INIT_LENGTH=3,t.prototype.init=function(){},t}(),h=function(t){function e(t){e.__super__.constructor.call(this,t),this.textStyle={font:"90px HelveticaNeue",align:"center",fill:"#888888"},this.timerText=null,this.timer=null,this.timerEvent=null,this.seconds=3}return extend(e,t),e.prototype.preload=function(){},e.prototype.create=function(){return console.log(this.timer),this.timerText=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"3",this.textStyle),this.timerText.anchor.setTo(.5,.5),this.timer=this.game.time.create(),this.timerEvent=this.timer.add(n.Timer.SECOND*this.seconds,this.endTimer,this),this.timer.start(),console.log("created")},e.prototype.endTimer=function(){return this.timer.stop(),this.game.state.start("Play")},e.prototype.render=function(){return this.timer.running?this.timerText.setText(Math.ceil((this.timerEvent.delay-this.timer.ms)/1e3)):void 0},e}(n.State),c=function(t){function e(t){e.__super__.constructor.call(this,t)}return extend(e,t),e.prototype.dots=[],e.prototype.preload=function(){return this.game.load.spritesheet("snake","dist/assets/images/HexaSprites_HexaSprites.png",100,100,5)},e.prototype.test=function(){var t,e,r,i,o;for(i=s.instance.hexagonArray,o=[],t=0,e=i.length;e>t;t++)r=i[t],o.push(new n.Circle(r.renderPosW(),r.renderPosH(),2));return o},e.prototype.create=function(){return this.dots=this.test()},e.prototype.render=function(){var t,e,n,r,i;for(r=this.dots,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(this.game.debug.geom(t,"#008800"));return i},e}(n.State),u=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.initStates(),this.initGameData()}return extend(e,t),e.prototype.initStates=function(){return this.state.add("Loading",h),this.state.add("Play",c),this.state.start("Loading")},e.prototype.initGameData=function(){return s.config(this.width,this.height,40)},e}(n.Game),function(){var t,e,n;return t="GameController",n=function(t,e){return t.trim()+" as "+e.trim()},e=r.module("SnakeApp",["ui.router","ngAnimate"]),e.config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("red",{url:"/red",templateUrl:"red.html"}).state("green",{url:"/green",templateUrl:"green.html",controller:n(t,"game")}).state("blue",{url:"/blue",templateUrl:"blue.html"}),r.otherwise("/red")}]),e.controller(t,["$scope","$state",function(t){return function(e,n){t.game=null,t.initGame=function(e,n){return t.game=new u(e,n,Phaser.AUTO,"snakeGame",null,!0)},e.initGame=t.initGame,e.$on("$destroy",function(){return t.game.destroy()})}}(this)]),e.directive("game",["$injector",function(t){return{scope:{gameName:"@",onInit:"&"},template:"<div class='game-screen'></div>",replace:!0,compile:function(t){return{pre:function(e){t.attr("id",e.gameName+"Game")},post:function(e,n,r,i){var o,s;o=parseInt(t.css("height"),10),s=parseInt(t.css("width"),10),e.onInit()(s,o)}}}}}])}()}(jQuery,window,Phaser,angular);
//# sourceMappingURL=../maps/game.js.map
