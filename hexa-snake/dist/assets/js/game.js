var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(t,e,n,r){var i,o,s,a,h,u,c,l;return l=function(t){return Math.floor(Math.random()*(t+1))},i=function(t){function e(t,n,r){e.__super__.constructor.call(this,t,n,r)}return extend(e,t),e}(n.Sprite),o=function(){function t(t,e){this.x=t,this.y=e,this.map=s.instance}return t.prototype.renderPosW=function(){return this.map.renderUnitW*this.x},t.prototype.renderPosH=function(){return this.map.renderUnitH*this.y},t.prototype.next=function(t){var e,n;switch(n=this.map.unitW,e=this.map.unitH,t){case 1:return this.map.find(this.x+n/2,this.y-e);case 2:return this.map.find(this.x+n,this.y);case 3:return this.map.find(this.x+n/2,this.y+e);case 4:return this.map.find(this.x-n/2,this.y+e);case 5:return this.map.find(this.x-n,this.y);case 6:return this.map.find(this.x-n/2,this.y-e)}},t}(),s=function(){function t(){}var e,n,r,i;return i=null,e=.001,r=function(t,n){return Math.abs(t-n)<e},n=function(){function t(t,e,n){this.unitH=.795,this.unitW=Math.sqrt(3)/2,this.renderUnitW=n*this.unitW,this.renderUnitH=n*this.unitH,this.width=Math.floor(t/this.renderUnitW),this.height=Math.floor(e/this.renderUnitH),this.hexagonArray=[]}return t.prototype.initHexagonArray=function(){var t,e,n;for(this.hexagonArray=[],n=3*this.unitW/2,e=this.unitH,t=!0;;)if(this.hexagonArray.push(new o(n,e)),n+=this.unitW,n>this.width-this.unitW/2&&(e+=this.unitH,t=!t,n=t?3*this.unitW/2:this.unitW),!(e<this.height))break},t.prototype.find=function(t,e){var n,i,o,s,a;for(s=this.hexagonArray,i=0,o=s.length;o>i;i++)if(n=s[i],r(t,n.x)&&r(e,n.y)){a=n;break}return a},t.prototype.test=function(){var t;return t=this.hexagonArray[4],console.log(t),t=t.next(3),console.log(t),t=t.next(3),console.log(t),t=t.next(1),console.log(t)},t}(),t.config=function(t,e,r){return null==r&&(r=20),i=new n(t,e,r),i.initHexagonArray(),console.log("HexaGon Map initialized with"),console.log("- size "+t+" x "+e+" and unitSize = "+r),console.log("- number of hexa tiles is "+i.hexagonArray.length)},Object.defineProperty(t,"instance",{get:function(){return i}}),t}(),a=function(){function t(){this.length=0,this.direction=2,this.map=s.instance}return t.INIT_LENGTH=3,t.prototype.init=function(){},t}(),u=function(t){function e(t){e.__super__.constructor.call(this,t),this.textStyle={font:"90px HelveticaNeue",align:"center",fill:"#888888"},this.timerText=null,this.timer=null,this.timerEvent=null,this.seconds=1}return extend(e,t),e.prototype.preload=function(){return s.config(this.game.width,this.game.height,50)},e.prototype.create=function(){return this.timerText=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"3",this.textStyle),this.timerText.anchor.setTo(.5,.5),this.timer=this.game.time.create(),this.timerEvent=this.timer.add(n.Timer.SECOND*this.seconds,this.endTimer,this),this.timer.start()},e.prototype.endTimer=function(){return this.timer.stop(),this.game.state.start("Play")},e.prototype.render=function(){return this.timer.running?this.timerText.setText(Math.ceil((this.timerEvent.delay-this.timer.ms)/1e3)):void 0},e}(n.State),c=function(t){function e(t){e.__super__.constructor.call(this,t)}return extend(e,t),e.prototype.dots=[],e.prototype.preload=function(){return this.game.load.spritesheet("snake","dist/assets/images/HexaSprites_HexaSprites.png",208,208,5)},e.prototype.test=function(){var t,e,n,r,i;for(r=s.instance.hexagonArray,i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(game.add.sprite(n.renderPosW(),n.renderPosH(),"snake"));return i},e.prototype.create=function(){var t,e,n,r,i,o;for(this.dots=this.test(),r=this.dots,i=[],e=0,n=r.length;n>e;e++)t=r[e],t.frame=0,o=.185,t.scale.setTo(o,o),i.push(t.anchor.setTo(.5,.5));return i},e}(n.State),h=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.initStates()}return extend(e,t),e.prototype.initStates=function(){return this.state.add("Loading",u),this.state.add("Play",c),this.state.start("Loading")},e}(n.Game),function(){var t,e,n;return t="GameController",n=function(t,e){return t.trim()+" as "+e.trim()},e=r.module("SnakeApp",["ui.router","ngAnimate"]),e.config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("red",{url:"/red",templateUrl:"red.html"}).state("green",{url:"/green",templateUrl:"green.html",controller:n(t,"game")}).state("blue",{url:"/blue",templateUrl:"blue.html"}),r.otherwise("/red")}]),e.controller(t,["$scope","$state",function(t){return function(e,n){t.game=null,t.initGame=function(e,n){return t.game=new h(e,n,Phaser.AUTO,"snakeGame",null,!0)},e.initGame=t.initGame,e.$on("$destroy",function(){return t.game.destroy()})}}(this)]),e.directive("game",["$injector",function(t){return{scope:{gameName:"@",onInit:"&"},template:"<div class='game-screen'></div>",replace:!0,compile:function(t){return{pre:function(e){t.attr("id",e.gameName+"Game")},post:function(e,n,r,i){var o,s;o=parseInt(t.height(),10),s=parseInt(t.width(),10),console.log(o,s),e.onInit()(s,o)}}}}}])}()}(jQuery,window,Phaser,angular);
//# sourceMappingURL=../maps/game.js.map
